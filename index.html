<!DOCTYPE html>
<html lang="en">
<!-- Resources -->
<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
<script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
<script src="https://cdn.amcharts.com/lib/4/themes/dataviz.js"></script>
<script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
<head>
  <title>Emission Data</title>
</head>
    
<body>
    <div id="chartdiv"></div>
    <style>
    #chartdiv {
      width: 100%;
      height: 500px;
    }
    </style>
  <!-- Chart code -->
<script>
am4core.ready(function() {
    // Themes begin
    am4core.useTheme(am4themes_animated);
    // Themes end

    var chart = am4core.create("chartdiv", am4charts.XYChart);
    chart.dateFormatter.inputDateFormat = "yyyy/MM/dd"
    chart.dataSource.url = "/India_daily_generation-2016-v0.2_20201219.csv";
    chart.dataSource.parser = new am4core.CSVParser();
    chart.dataSource.parser.options.useColumnNames = true;

    //  Create axes
    var dateAxis = chart.xAxes.push(new am4charts.DateAxis());
    dateAxis.renderer.minGridDistance = 60;

    // Create value axis
    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
    valueAxis.title.text = "Emissions";

    // Create series
    var series1 = chart.series.push(new am4charts.LineSeries());
    series1.dataFields.valueY = "coal";
    series1.dataFields.dateX = "date";
    series1.tooltipText = "coal:{coal}"
    // series1.dataFields.categoryX = "date";
    series1.name = "coal";
    series1.strokeWidth = 3;
    series1.tensionX = 0.7;
    series1.legendSettings.valueText = "{valueY}";
    // series1.bullets.push(new am4charts.CircleBullet());

    var series2 = chart.series.push(new am4charts.LineSeries());
    series2.dataFields.valueY = "gas";
    series2.dataFields.dateX = "date";
    // series2.dataFields.categoryX = "date";
    series2.tooltipText = "gas:{gas}"
    series2.name = "gas";
    series2.strokeWidth = 3;
    series2.tensionX = 0.7;
    series2.legendSettings.valueText = "{valueY}";
    // series2.bullets.push(new am4charts.CircleBullet());

    var series3 = chart.series.push(new am4charts.LineSeries());
    series3.dataFields.valueY = "oil";
    series3.dataFields.dateX = "date";
    // series3.dataFields.categoryX = "date";
    series3.tooltipText = "oil:{oil}"
    series3.name = "oil";
    series3.strokeWidth = 3;
    series3.tensionX = 0.7;
    series3.legendSettings.valueText = "{valueY}";
    // series3.bullets.push(new am4charts.CircleBullet());

    var series4 = chart.series.push(new am4charts.LineSeries());
    series4.dataFields.valueY = "nuclear";
    series4.dataFields.dateX = "date";
    // series3.dataFields.categoryX = "date";
    series4.tooltipText = "nuclear:{v}"
    series4.name = "nuclear";
    series4.strokeWidth = 3;
    series4.tensionX = 0.7;
    series4.legendSettings.valueText = "{valueY}";  
  
    var series5 = chart.series.push(new am4charts.LineSeries());
    series5.dataFields.valueY = "hydro";
    series5.dataFields.dateX = "date";
    // series3.dataFields.categoryX = "date";
    series5.tooltipText = "hydro:{hydro}"
    series5.name = "hydro";
    series5.strokeWidth = 3;
    series5.tensionX = 0.7;
    series5.legendSettings.valueText = "{valueY}";  
 
    var series6 = chart.series.push(new am4charts.LineSeries());
    series6.dataFields.valueY = "wind";
    series6.dataFields.dateX = "date";
    // series3.dataFields.categoryX = "date";
    series6.tooltipText = "wind:{wind}"
    series6.name = "wind";
    series6.strokeWidth = 3;
    series6.tensionX = 0.7;
    series6.legendSettings.valueText = "{valueY}";  
  
    var series7 = chart.series.push(new am4charts.LineSeries());
    series7.dataFields.valueY = "solar";
    series7.dataFields.dateX = "date";
    // series3.dataFields.categoryX = "date";
    series7.tooltipText = "solar:{solar}"
    series7.name = "solar";
    series7.strokeWidth = 3;
    series7.tensionX = 0.7;
    series7.legendSettings.valueText = "{valueY}";  
  
    var series8 = chart.series.push(new am4charts.LineSeries());
    series8.dataFields.valueY = "other";
    series8.dataFields.dateX = "date";
    // series3.dataFields.categoryX = "date";
    series8.tooltipText = "other:{other}"
    series8.name = "other";
    series8.strokeWidth = 3;
    series8.tensionX = 0.7;
    series8.legendSettings.valueText = "{valueY}";     
  
    chart.cursor = new am4charts.XYCursor();
    chart.cursor.snapToSeries = series;
    chart.cursor.xAxis = dateAxis;
    // chart.cursor.behavior = "zoomY";

    //chart.scrollbarY = new am4core.Scrollbar();
    chart.scrollbarX = new am4core.Scrollbar();

    let hs1 = series.segments.template.states.create("hover")
    hs1.properties.strokeWidth = 5;
    series.segments.template.strokeWidth = 1;

    let hs2 = series2.segments.template.states.create("hover")
    hs2.properties.strokeWidth = 5;
    series2.segments.template.strokeWidth = 1;

    let hs3 = series3.segments.template.states.create("hover")
    hs3.properties.strokeWidth = 5;
    series3.segments.template.strokeWidth = 1;
  
    let hs4 = series4.segments.template.states.create("hover")
    hs4.properties.strokeWidth = 5;
    series4.segments.template.strokeWidth = 1;

    let hs5 = series5.segments.template.states.create("hover")
    hs5.properties.strokeWidth = 5;
    series5.segments.template.strokeWidth = 1;

    let hs6 = series6.segments.template.states.create("hover")
    hs6.properties.strokeWidth = 5;
    series6.segments.template.strokeWidth = 1;

    let hs7 = series7.segments.template.states.create("hover")
    hs7.properties.strokeWidth = 5;
    series7.segments.template.strokeWidth = 1;
  
    let hs8 = series8.segments.template.states.create("hover")
    hs8.properties.strokeWidth = 5;
    series8.segments.template.strokeWidth = 1;

    chart.legend = new am4charts.Legend();
    chart.legend.itemContainers.template.events.on("over", function(event){
        var segments = event.target.dataItem.dataContext.segments;
        segments.each(function(segment){
        segment.isHover = true;
        })
    })

    chart.legend.itemContainers.template.events.on("out", function(event){
    var segments = event.target.dataItem.dataContext.segments;
    segments.each(function(segment){
        segment.isHover = false;
        })
    })
}); // end am4core.ready()
    </script>
</body>

</html>









